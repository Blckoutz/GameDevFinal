shader_type canvas_item;

uniform vec2 player_position; // Position of the player
uniform float radius = 500.0;  // Radius of the visible area
uniform float softness = 50.0; // Softness of the mask edge

void fragment() {
    // Calculate the distance from the player to the fragment
    float dist = distance(player_position, FRAGCOORD.xy);
    
    // Determine the darkness amount based on distance
    float mask = smoothstep(radius, radius + softness, dist);
    
    // Set the fragment color with the mask applied
    COLOR = vec4(vec3(0.0), mask); // Mask everything except the circle
}
//shader code generated by chatgpt and edited by me